export ^

require "states/scenestate"
require "scenario"

class Game extends GameState
    new: =>
        super()
<<<<<<< HEAD
        @scenario = Scenario.getDefaultScenario()
=======
        @scenes = {}
        @loadData()

    loadData: =>
        -- Load the scenes in the right order
        table.insert(@scenes, require "data/crimescenes/scene02_se7enGreed")
>>>>>>> ec7c6a45290182262d25f67e06fb153ec71f47d4

    update: (dt) =>
        nextScene = @scenario\nextScene()
        if(nextScene) -- nextScene is nil if no more scene
            statestack\push SceneState(nextScene)
            @currentScene = nextScene

    draw: =>
        love.graphics.setBackgroundColor(0, 0, 0)
        love.graphics.draw(@currentScene.spriteImg, 0, 0)
